version: "2"

services:
    containerman:
        image: "docker.io/selfhostedpro/yacht:latest"
        volumes:
            - /var/run/docker.sock:/var/run/docker.sock
            - /data/yacht:/config
        networks:
            sub0:
                ipv4_address: 192.168.254.2
        ports:
            - "80:8000/tcp"

    registry:
        image: "docker.io/library/registry:latest"
        volumes:
            - /data/registry:/var/lib/registry
        networks:
            sub0:
                ipv4_address: 192.168.254.3
        ports:
            - "5000:5000/tcp"

networks: 
    sub0:
        ipam:
            config:
              - subnet: 192.168.254.0/24
